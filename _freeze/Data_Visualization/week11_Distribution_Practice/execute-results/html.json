{
  "hash": "c9a87e9fd0e5cc68f89a2cb04bcda3ba",
  "result": {
    "markdown": "---\ntitle: 'Distribution Practice'\nauthor: 'Jinwon Lee'\ndate: '2023-05-17'\ncategories: [Visualization, Code, R]\npage-layout: full\nimage: \"./image/Distribution_Practice.png\"\noutput:\n  prettydoc::html_pretty:\n    theme: architect\n    highlight: github\neditor_options: \n  chunk_output_type: console\nmainfont: NanumGothic\n---\n\n\n# 9. Visualizing many distributions at once : 여러 분포 상태의 결합 시각화\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# 기상청 자료\nair <- read.csv('./data/OBS_ASOS_DD_20230322080932.csv', fileEncoding = 'CP949')\nair %>% head()\n#>   지점 지점명       일시 평균기온..C. 최저기온..C. 최고기온..C.\n#> 1  108   서울 2022-01-01         -4.3        -10.2          2.3\n#> 2  108   서울 2022-01-02         -1.3         -5.2          3.0\n#> 3  108   서울 2022-01-03         -1.9         -8.0          2.5\n#> 4  108   서울 2022-01-04         -2.5         -5.6          1.0\n#> 5  108   서울 2022-01-05         -2.8         -7.8          1.9\n#> 6  108   서울 2022-01-06         -2.2         -5.9          3.3\n\n# 자료형 확인\nsapply(air, class)\n#>         지점       지점명         일시 평균기온..C. 최저기온..C. 최고기온..C. \n#>    \"integer\"  \"character\"  \"character\"    \"numeric\"    \"numeric\"    \"numeric\"\n\n# 자료형 변환 & 월 변수 생성\nair$일시 <- lubridate::ymd(air$일시)\nair$월 <- lubridate::month(air$일시, label = T)\nair %>% head()\n#>   지점 지점명       일시 평균기온..C. 최저기온..C. 최고기온..C. 월\n#> 1  108   서울 2022-01-01         -4.3        -10.2          2.3  1\n#> 2  108   서울 2022-01-02         -1.3         -5.2          3.0  1\n#> 3  108   서울 2022-01-03         -1.9         -8.0          2.5  1\n#> 4  108   서울 2022-01-04         -2.5         -5.6          1.0  1\n#> 5  108   서울 2022-01-05         -2.8         -7.8          1.9  1\n#> 6  108   서울 2022-01-06         -2.2         -5.9          3.3  1\n```\n:::\n\n\n### Figure 9.3 - Boxplot\n\n\n::: {.cell}\n\n```{.r .cell-code}\nair %>% filter(지점명 == '대전') %>%\n  ggplot(aes(x = 월, y = 평균기온..C.)) +\n  geom_boxplot(fill = 'grey90') +\n  xlab('월') +\n  ylab('평균 기온 (°C)') +\n  theme_classic() +\n  theme(plot.margin = margin(3, 7, 3, 1.5))\n```\n\n::: {.cell-output-display}\n![](week11_Distribution_Practice_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\n### Figure 9.5 - Violinplot\n\n\n::: {.cell}\n\n```{.r .cell-code}\nair %>% filter(지점명 == '대전') %>%\n  ggplot(aes(x = 월, y = 평균기온..C.)) +\n  geom_violin(fill = 'grey90') +\n  xlab('Month') +\n  ylab('평균 기온 (°C)') +\n  theme_classic() +\n  theme(plot.margin = margin(3, 7, 3, 1.5))\n```\n\n::: {.cell-output-display}\n![](week11_Distribution_Practice_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\n### Figure 9.7 - Point Jitter\n\n\n::: {.cell}\n\n```{.r .cell-code}\nair %>% filter(지점명 == '대전') %>%\n  ggplot(aes(x = 월, y = 평균기온..C.)) +\n  geom_point(position = position_jitter(width = .15, height = 0, seed = 320), size = 1) +\n  xlab('Month') +\n  ylab('평균 기온 (°C)') +\n  theme_classic() +\n  theme(plot.margin = margin(3, 7, 3, 1.5))\n```\n\n::: {.cell-output-display}\n![](week11_Distribution_Practice_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n### Figure 9.8 - Violinplot + Point Jitter\n\n\n::: {.cell}\n\n```{.r .cell-code}\nair %>% filter(지점명 == '대전') %>%\n  ggplot(aes(x = 월, y = 평균기온..C.)) +\n  geom_violin(color = 'transparent', fill = 'grey90') +\n  geom_point(position = position_jitter(width = .15, height = 0, seed = 320), size = 1) +\n  xlab('Month') +\n  ylab('평균 기온 (°C)') +\n  theme_classic() +\n  theme(plot.margin = margin(3, 7, 3, 1.5))\n```\n\n::: {.cell-output-display}\n![](week11_Distribution_Practice_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n### Figure 9.9 - Denstiy Ridges\n\n\n::: {.cell}\n\n```{.r .cell-code}\nair %>% filter(지점명 == '대전') %>%\n  ggplot(aes(x = 평균기온..C., y = fct_rev(월))) +\n  geom_density_ridges(scale = 3, rel_min_height = 0.01,\n                      bandwidth = 3.4, fill = 'skyblue', color = 'white') + \n  scale_x_continuous(name = '평균 기온 (°C)',\n                     expand = c(0, 0), breaks = seq(-10,30, 10)) +\n  scale_y_discrete(name = NULL) +\n  theme_minimal() +\n  theme(axis.text.y = element_text(vjust = 0),\n        plot.margin = margin(3, 7, 3, 1.5))\n```\n\n::: {.cell-output-display}\n![](week11_Distribution_Practice_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n### Figure 9.12 - Group & Fill Cyclical\n\n\n::: {.cell}\n\n```{.r .cell-code}\nair %>% filter(지점명 %in% c('대전', '제주')) %>%\n  ggplot(aes(x = 평균기온..C., y = fct_rev(월), \n         group = interaction(지점명, factor(월)),\n         fill = interaction(지점명, factor(월)))) + \n  geom_density_ridges(scale = 5, size = 0.25, rel_min_height = 0.01, \n                      alpha = 0.9, color = 'white') +\n  scale_x_continuous(name = '평균 기온 (°C)',\n                     limits = c(-15, 40),\n                     breaks = seq(-10, 30, 10)) +\n  scale_y_discrete(name = '월') +\n  scale_fill_cyclical(breaks = c('대전.1', '제주.1'),\n                      labels = c(`대전.1` = '대전', `제주.1` = '제주'),\n                      values = c('#4040ff', '#ff4040', '#6060ff', '#ff6060'),\n                      name = NULL, guide = 'legend') +\n  theme_light() +\n  theme(panel.border = element_blank(),\n        axis.text.y = element_text(vjust = 0),\n        legend.position = c(1, 1),\n        legend.justification = c(1, 1),\n        legend.direction = 'horizontal',\n        legend.background = element_rect(fill = 'white'))\n#> Picking joint bandwidth of 1.18\n```\n\n::: {.cell-output-display}\n![](week11_Distribution_Practice_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "week11_Distribution_Practice_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}
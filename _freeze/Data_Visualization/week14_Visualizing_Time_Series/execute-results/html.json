{
  "hash": "5c0cd29e7fedda5bf96c1df2cbeccf20",
  "result": {
    "markdown": "---\ntitle: 'Visualizing Time Series'\nauthor: 'Jinwon Lee'\ndate: '2023-06-07'\ncategories: [Visualization, Code, R]\npage-layout: full\nimage: \"./image/timeseries.png\"\noutput:\n  prettydoc::html_pretty:\n    theme: architect\n    highlight: github\neditor_options: \n  chunk_output_type: console\nmainfont: NanumGothic\n---\n\n\n# 13. Visualizing Time Series and Other Functions of an Independent Variable - 독립 변수의 시계열 데이터와 함수 시각화\n\n\n\n\n\n## 13.1 Individual Time Series - 단일 시계열 데이터\n\n### Figure 13.1\n\n\n::: {.cell}\n\n```{.r .cell-code}\nload('./data/preprint_growth.rda')\n\npreprint_growth %>% sapply(class)\n#>     archive        date       count \n#> \"character\"      \"Date\"   \"integer\"\npreprint_growth %>% head()\n#> # A tibble: 6 × 3\n#>   archive           date       count\n#>   <chr>             <date>     <int>\n#> 1 arXiv q-bio       2007-01-01    40\n#> 2 Nature Precedings 2007-01-01     3\n#> 3 F1000Research     2007-01-01     0\n#> 4 PeerJ Preprints   2007-01-01     0\n#> 5 bioRxiv           2007-01-01     0\n#> 6 Winnower          2007-01-01     0\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Data\nbiorxiv_growth <- preprint_growth %>%\n  filter(archive == 'bioRxiv') %>%\n  filter(count > 0)\n\nggplot(biorxiv_growth, aes(date, count)) +\n  geom_point(color = 'white', fill = '#0072B2', shape = 21, size = 2) +\n  scale_y_continuous(name = 'Preprints / Month') +\n  scale_x_date(name = 'Year') +\n  theme_classic()\n```\n\n::: {.cell-output-display}\n![](week14_Visualizing_Time_Series_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\n### Figure 13.2\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(biorxiv_growth, aes(date, count)) +\n  geom_line(linewidth = 0.5, color = '#0072B2') +\n  geom_point(color = 'white', fill = '#0072B2', shape = 21, size = 2) +\n  scale_y_continuous(name = 'Preprints / Month') +\n  scale_x_date(name = 'Year') +\n  theme_classic()\n```\n\n::: {.cell-output-display}\n![](week14_Visualizing_Time_Series_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\n### Figure 13.3\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(biorxiv_growth, aes(date, count)) +\n  geom_line(linewidth = 1.25, color = '#0072B2') +\n  scale_y_continuous(name = 'Preprints / Month') +\n  scale_x_date(name = 'Year') +\n  theme_classic()\n```\n\n::: {.cell-output-display}\n![](week14_Visualizing_Time_Series_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n### Figure 13.4\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(biorxiv_growth, aes(date, height = count, y = 0)) +\n  ggridges::geom_ridgeline(size = 1, color = '#0072B2', fill  = '#0072B240') +\n  scale_y_continuous(name = 'Preprints / Month') +\n  scale_x_date(name = 'Year') +\n  theme_classic()\n```\n\n::: {.cell-output-display}\n![](week14_Visualizing_Time_Series_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n## 13.2 Multiple Time Series and Dose–Response Curves - 다중 시계열 데이터와 용량-반응 곡선\n\n### Figure 13.6\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Data\npreprints <- preprint_growth %>%\n  filter(archive %in% c('bioRxiv', 'arXiv q-bio', 'PeerJ Preprints')) %>%\n  filter(count > 0) %>%\n  mutate(archive = factor(archive, levels = c('bioRxiv', 'arXiv q-bio', 'PeerJ Preprints')))\n\npreprints %>%\n  filter(date >= '2013-11-01' & date <= '2017-01-01') %>%\n  ggplot(aes(date, count, color = archive, fill = archive, shape = archive)) + \n  geom_line(linewidth = 0.75) +\n  geom_point(color = 'white', size = 2) +\n  scale_y_continuous(name = 'Preprints / Month') +\n  scale_x_date(name = 'Year') +\n  scale_shape_manual(values = c(21, 22, 23), name = NULL) + \n  scale_color_manual(values = c('#0072b2', '#D55E00', '#009e73'), name = NULL) +\n  scale_fill_manual(values = c('#0072b2', '#D55E00', '#009e73'), name = NULL) +\n  theme_classic() +\n  theme(legend.position = c(0.2, 0.8))\n```\n\n::: {.cell-output-display}\n![](week14_Visualizing_Time_Series_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n### Figure 13.7\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Data\npreprints_final <- filter(preprints, date == '2017-01-01')\n\npreprints %>% filter(date >= '2013-11-01' & date <= '2017-01-01') %>%\n  ggplot(aes(date, count, color = archive, fill = archive, shape = archive)) +\n  geom_line(linewidth = 1) +\n  scale_y_continuous(\n    limits = c(0, 600), expand = c(0, 0), name = 'Preprints / Month',\n    sec.axis = dup_axis(breaks = preprints_final$count,\n                        labels = c('arxiv\\nq-bio', 'PeerJ\\nPreprints', 'bioRxiv'),\n                        name = NULL)) +\n  scale_x_date(name = 'Year', expand = expansion(mult = c(0.02, 0))) +\n  scale_shape_manual(values = c(21, 22, 23), name = NULL) +\n  theme_classic() +\n  theme(axis.line.y.right = element_blank(),\n        axis.ticks.y.right = element_blank(),\n        legend.position = 'none')\n```\n\n::: {.cell-output-display}\n![](week14_Visualizing_Time_Series_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::",
    "supporting": [
      "week14_Visualizing_Time_Series_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}